@model PagedList.IPagedList<purchaseTracking.Models.eTALENT.VACACIONES>

@using PagedList.Mvc;
@{
    ViewBag.Title = "Empleados de Unidad";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
        thead th {
            position: sticky;
            top: 0;
            z-index: 100;
        }



        .contenedor-principal {
            padding: 1.5rem;
            background-color: #ffffff;
        }

        .table thead {
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
            overflow: hidden;
            border: 1px solid #dee2e6;
            border-bottom: none;
            display: table-header-group;
        }

            .table thead th {
                background-color: lightgray !important;
                color: #495057 !important;
                font-weight: 600;
                text-transform: uppercase;
                padding-top: 0.75rem;
                padding-bottom: 0.75rem;
                border-bottom: 1px solid #dee2e6;
                font-size: 0.8rem;
                border-right: 1px solid #dee2e6;
                border-left: 1px solid #dee2e6;
            }

            .table thead tr th:first-child {
                border-left: none;
            }

            .table thead tr th:last-child {
                border-right: none;
            }

        .table tbody tr {
            border-bottom: 1px solid #e9ecef;
        }

            .table tbody tr td {
                background-color: #ffffff;
            }

        .table-hover > tbody > tr:hover > * {
            background-color: #f8f9fa !important;
            color: #212529;
        }

        .table-wrap-75vh {
            height: 65vh !important;
            overflow-y: auto;
        }

        .pagination a, .pagination span {
            color: #495057 !important;
            border: 1px solid #dee2e6 !important;
            background-color: #ffffff !important;
            box-shadow: none !important;
            padding: 0.375rem 0.75rem;
            margin-left: -1px;
            line-height: 1.5;
            position: relative;
            display: block;
        }

            .pagination a:hover, .pagination .page-item a:hover {
                background-color: #f8f9fa !important;
                color: #343a40 !important;
                border-color: #dee2e6 !important;
            }

        .pagination > .active > a, .pagination > .active > span {
            background-color: #4d4d54 !important;
            border-color: #4d4d54 !important;
            color: #ffffff !important;
            box-shadow: none !important;
            z-index: 3;
        }

        .pagination .page-item.disabled a {
            color: #6c757d !important;
            background-color: #e9ecef !important;
            border-color: #dee2e6 !important;
        }
       .table-responsive {
        overflow-x: auto;
    }

    .pagination a:focus {
        box-shadow: none !important;
    }
    @@media (max-width: 768px) {
        .table thead th,
        .table tbody td {
            font-size: 0.75rem;
            padding: 0.4rem;
        }

        h4 {
            font-size: 1.1rem;
        }
    }
</style>
<div class="container-fluid">
    <div class="row justify-content-md-center">
        <div class="col-md-11 mt-3">
            <h4 class="text-left">Empleados de mi Unidad</h4>
            <hr />
            @if (Model.Count() > 0)
            {
               <div class="table-responsive table-wrap-75vh overflow-auto mt-3">
          <table class="table table-hover align-middle table-fixed" style="text-align:center; min-width:900px;">
              <thead class="table-dark text-center">
                  <tr>
                      <th>
                          Código de Empleado
                      </th>
                      <th>
                          Nombre Completo
                      </th>
                      <th>
                          Fecha de Ingreso
                      </th>
                      <th>
                          Total Días Vacaciones
                      </th>
                      <th>
                          Dias Gozados
                      </th>
                      <th>
                          Días Disponibles
                      </th>
                  </tr>
              </thead>

              @foreach (var item in Model)
              {
                  int temp_total = (int)Math.Round(item.DIAS);
                  int temp_gozados = (int)Math.Round(item.GOZADOS);
                  int temp_dias = (int)Math.Round(item.DIAS - item.GOZADOS);
                  <tr style="cursor:pointer !important">
                      <td class="text-center">
                          @item.EPDO_CODIGO
                      </td>
                      <td>
                          @item.EPDO_NOMBRE_COMPLETO
                      </td>
                      <td class="text-center">
                          @item.FECHA
                      </td>
                      <td class="text-center">
                          @temp_total
                      </td>
                      <td class="text-center">
                          @temp_gozados
                      </td>
                      <td class="text-center">
                          @temp_dias
                      </td>
                  </tr>
              }
          </table>
               </div>

                <div class="d-flex justify-content-end align-items-center mt-4">
                    <ul class="pagination justify-content-center">
                        @Html.PagedListPager(
                    Model,
                    page => Url.Action("EmpleadosUnidad",
                    new
                    {
                        page,
                        findString = ViewBag.findString
                    }
                    ),
                    new PagedListRenderOptions()
                    {
                        LinkToFirstPageFormat = "<<",
                        LinkToPreviousPageFormat = "Anterior",
                        LinkToNextPageFormat = "Siguiente",
                        LinkToLastPageFormat = ">>",
                        DisplayEllipsesWhenNotShowingAllPageNumbers = false,
                        LiElementClasses = new List<string> { "page-item", "page-link" }
                    })
                    </ul>
                    </div>
                }
                else
                {
                    if (ViewBag.findString != null)
                    {
                        <div class="alert alert-warning" role="alert">
                            No se encontraron resultados para <b>@ViewBag.findString</b>
                        </div>
                    }
                }
        </div>
        </div>
</div>
